<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POO 2.1</title>
</head>

<body>

    <script>

        // Classe que define usuários.
        class User {

            // Atributos privados.
            #name = '';
            #email = '';
            #password = '';

            /**
             * Métodos 'set'.
             * Os 'setters' permitem alterar valores de atributos indiretamente,
             * principalmente de atributos privados (#) que não pode ser alterados
             * de outra forma.
             * 
             * A vantagem é que permitem validar os dados antes de serem atribuídos.
             * 
             * OBS: 'this' faz referência ao próprio opbjeto.
             */
            setName(name) {
                this.#name = name;
            }

            setEmail(email_address) {

                // Valida e-mail
                if (email_address.indexOf('@') > 0)
                    this.#email = email_address;
                else
                    console.error('E-mail inválido!');

            }

            /**
             * Não é obrigatório, mas recomendado chamar o método
             * de 'setAtributo', por exemplo: 'setName', 'setPassword'.
             */
            trocaSenha(x) {

                // Valida a senha usando o método privado '#testaSenha()'.
                if (this.#testaSenha(x))
                    this.#password = x;
                else
                    console.error('A senha tem que ter "_"');
            }

            /**
             * Método privado que testa a senha.
             * Este método só pode ser 'invocado' por outro método da classe.
             */
            #testaSenha(pass_word) {
                return (pass_word.indexOf('_') >= 0);
            }

        }

        // Cria uma instância de 'User'.
        let joca = new User();

        // Define / altera atributos.
        joca.setName('Joca da Silva');
        joca.setEmail('joca@silva.com');
        joca.trocaSenha('123_abc');

        // Exibir o objeto.
        console.log('joca: ', joca);

        // Cria uma nova instância.
        var secretaria = new User();

        // Atribuir...
        secretaria.setName('Marineuza Siriliano');
        secretaria.setEmail('mari@siri.com');
        secretaria.trocaSenha('asd_fgh');

        // Consumir.
        console.log('secretaria:', secretaria);

    </script>

</body>

</html>